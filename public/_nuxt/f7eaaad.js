(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{237:function(t,e,r){var content=r(302);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(20).default)("7388ab72",content,!0,{sourceMap:!1})},262:function(t,e,r){"use strict";r(9),r(6),r(7),r(13),r(10),r(14);var n=r(15),o=r(2),c=(r(45),r(89));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={data:function(){return{title:"Q Board",user:null}},created:function(){var t=this;this.bindQuestions(),this.bindAnswers(),this.$fire.auth.onAuthStateChanged((function(e){e?(t.user=e,"sample"===t.user.photoURL&&(t.user.photoURL=null)):t.user=null}))},methods:d(d({},Object(c.b)({bindQuestions:"questions/bind",bindAnswers:"answers/bind"})),{},{logout:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$fire.auth.signOut();case 2:t.user=null;case 3:case"end":return e.stop()}}),e)})))()}})},v=r(90),h=r(124),m=r.n(h),w=r(404),_=r(405),y=r(182),O=r(392),j=r(391),x=r(411),V=r(406),$=r(407),C=r(263),E=r(261),I=r(408),U=r(410),k=r(409),R=r(258),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{dark:""}},[r("v-app-bar",{attrs:{fixed:"",app:""}},[r("v-spacer"),t._v(" "),r("v-toolbar-title",{staticStyle:{"padding-right":"10px"},domProps:{textContent:t._s(t.title)}}),t._v(" "),r("nuxt-link",{attrs:{to:"/"}},[r("img",{staticStyle:{width:"50px"},attrs:{src:"/logo/favicon_scsk.jpg"}})]),t._v(" "),r("v-spacer"),t._v(" "),t.user?r("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({},n),[r("v-avatar",{attrs:{size:"36",color:"primary"}},[t.user.photoURL?r("v-img",{attrs:{src:t.user.photoURL}}):r("span",{staticClass:"white--text text-h5"},[t._v(t._s(t.user.displayName.slice(0,2)))])],1),t._v(" "),r("strong",{staticClass:"mx-3"},[t._v(t._s(t.user.displayName))])],1)]}}])},[t._v(" "),r("v-card",[r("v-list-item-content",{staticClass:"justify-center"},[r("div",{staticClass:"mx-auto text-center px-3"},[r("v-avatar",{attrs:{color:"primary"}},[t.user.photoURL?r("v-img",{attrs:{src:t.user.photoURL}}):r("span",{staticClass:"white--text text-h5"},[t._v(t._s(t.user.displayName.slice(0,2)))])],1),t._v(" "),r("h3",[t._v(t._s(t.user.displayName))]),t._v(" "),r("p",{staticClass:"text-caption mt-1"},[t._v("\n              "+t._s(t.user.email)+"\n            ")]),t._v(" "),r("v-divider",{staticClass:"my-3"}),t._v(" "),r("v-btn",{attrs:{depressed:"",rounded:"",text:""},on:{click:t.logout}},[t._v(" Logout ")])],1)])],1)],1):r("v-btn",{attrs:{color:"primary",nuxt:"",to:"/auth/login"}},[t._v("\n      Sing In / Sign Up\n    ")])],1),t._v(" "),r("v-main",[r("v-container",[r("Nuxt")],1)],1),t._v(" "),r("v-footer",{attrs:{app:""}},[r("span",[t._v("Â© "+t._s((new Date).getFullYear()))])])],1)}),[],!1,null,null,null);e.a=component.exports;m()(component,{VApp:w.a,VAppBar:_.a,VAvatar:y.a,VBtn:O.a,VCard:j.a,VContainer:x.a,VDivider:V.a,VFooter:$.a,VImg:C.a,VListItemContent:E.a,VMain:I.a,VMenu:U.a,VSpacer:k.a,VToolbarTitle:R.a})},270:function(t,e,r){r(271),t.exports=r(272)},294:function(t,e,r){"use strict";r.r(e),e.default=function(t){var e=t.app,r=t.redirect;if(!e.$fire.auth.currentUser)return r("/auth/login")}},301:function(t,e,r){"use strict";r(237)},302:function(t,e,r){var n=r(19)(!1);n.push([t.i,"h1[data-v-bfedb7fe]{font-size:20px}",""]),t.exports=n},368:function(t,e,r){"use strict";r.r(e),r.d(e,"mutations",(function(){return n}));var n=r(60).b},369:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return o})),r.d(e,"getters",(function(){return c})),r.d(e,"actions",(function(){return l}));r(7);var n=r(60),o=function(){return{items:[]}},c={all:function(t){return t.items},byId:function(t){return function(e){var r=t.items.filter((function(t){return t.id===e}));return r.length>0?r[0]:null}},byQuestion:function(t){return function(e){return t.items.filter((function(t){return t.question_uid===e}))}}},l={bind:Object(n.a)((function(t){return(0,t.bindFirestoreRef)("items",this.$fire.firestore.collection("answers"))})),add:Object(n.a)((function(t,e){var title=e.title,r=e.detail,n=e.userId,o=e.questionId;return this.$fire.firestore.collection("answers").add({title:title,detail:r,userId:n,question_uid:o})})),remove:Object(n.a)((function(t,e){var r=t.getters,n=e.answerId,o=this.$fire.auth().currentUser;if(null===o)throw new Error("is not logged in");var c=r.byId(n);if(!c)throw new Error("invalid answer id");if(c.admin_uid!==o.uid)throw new Error("permission denied");return this.$fire.firestore.collection("answers").doc(n).delete()})),join:Object(n.a)((function(t,e){var r=t.getters,n=e.answerId,o=this.$fire.auth.currentUser;if(null===o)throw new Error("is not logged in");if(!r.byId(n))throw new Error("invalid answer id");return this.$fire.firestore.collection("answers").doc(n).update({users:this.$fireModule.firestore.FieldValue.arrayUnion(o.uid)})})),leave:Object(n.a)((function(t,e){var r=t.getters,n=e.answerId,o=this.$fire.auth.currentUser;if(null===o)throw new Error("is not logged in");if(!r.byId(n))throw new Error("invalid answer id");return this.$fire.firestore.collection("answers").doc(n).update({users:this.$fireModule.firestore.FieldValue.arrayRemove(o.uid)})}))}},370:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return o})),r.d(e,"getters",(function(){return c})),r.d(e,"actions",(function(){return l}));r(7);var n=r(60),o=function(){return{items:[]}},c={all:function(t){return t.items},byId:function(t){return function(e){var r=t.items.filter((function(t){return t.id===e}));return r.length>0?r[0]:null}},byCategory:function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?t.items.filter((function(t){return t.category===e})):t.items}}},l={bind:Object(n.a)((function(t){return(0,t.bindFirestoreRef)("items",this.$fire.firestore.collection("questions"))})),add:Object(n.a)((function(t,e){var r=e.user,n=e.category,o=e.date,title=e.title,c=e.detail,l=e.lebel;return this.$fire.firestore.collection("questions").add({user:r,date:o,category:n,title:title,detail:c,lebel:l})}))}},81:function(t,e,r){"use strict";var n={layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},o=(r(301),r(90)),c=r(124),l=r.n(c),d=r(404),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{dark:""}},[404===t.error.statusCode?r("h1",[t._v("\n    "+t._s(t.pageNotFound)+"\n  ")]):r("h1",[t._v("\n    "+t._s(t.otherError)+"\n  ")]),t._v(" "),r("NuxtLink",{attrs:{to:"/"}},[t._v("\n    Home page\n  ")])],1)}),[],!1,null,"bfedb7fe",null);e.a=component.exports;l()(component,{VApp:d.a})}},[[270,24,7,25]]]);